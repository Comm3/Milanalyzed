aes(x = long, y = lat, group = group,
fill =
cut(Femmine_giovani/Uomini_giovani,
breaks = c(0,1,2,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2")),
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = "Longitudine", y = "Latitudine", fill = "Nascite per decesso",
alpha = "Densità citt./100mq 2014") +
ggtitle("Tasso di natalità 2003/2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
Femmine_giovani
#                      cut(Femmine_giovani/Uomini_giovani,
#                          breaks = c(0,1,2,Inf),
#                          include.lowest = TRUE,
#                          right = FALSE,
#                          labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = "Longitudine", y = "Latitudine", fill = "Nascite per decesso",
alpha = "Densità citt./100mq 2014") +
ggtitle("Tasso di natalità 2003/2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
Femmine_giovani
#                      cut(Femmine_giovani/Uomini_giovani,
#                          breaks = c(0,1,2,Inf),
#                          include.lowest = TRUE,
#                          right = FALSE,
#                          labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Donne tra i 25 e i 30 anni",
alpha = "Densità citt./100mq 2014") +
ggtitle("Tasso di natalità 2003/2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
Femmine_giovani
#                      cut(Femmine_giovani/Uomini_giovani,
#                          breaks = c(0,1,2,Inf),
#                          include.lowest = TRUE,
#                          right = FALSE,
#                          labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Totale",
alpha = "Donne ogni 100 metri") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
Femmine_giovani
#                      cut(Femmine_giovani/Uomini_giovani,
#                          breaks = c(0,1,2,Inf),
#                          include.lowest = TRUE,
#                          right = FALSE,
#                          labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Totale",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
Femmine_giovani/Uomini_giovani
# Femmine_giovani
#                      cut(Femmine_giovani/Uomini_giovani,
#                          breaks = c(0,1,2,Inf),
#                          include.lowest = TRUE,
#                          right = FALSE,
#                          labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Totale",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani/Uomini_giovani,
breaks = c(0,1,2,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Totale",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani/Uomini_giovani,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Totale",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani/Uomini_giovani,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
milan_qt@data
popolazione
left_join(milan_qt@data,
filter(popolazione, Eta >= 25 & Eta <= 30 & Cittadinanza == "Italiana") %>%
transmute(Quartiere,
Cittadinanza,
Genere = ifelse(Genere == "Femmine",
"Femmine_giovani_it",
"Uomini_giovani_it"),
X2014) %>%
group_by(Quartiere, Genere) %>%
summarise(pop = sum(X2014)) %>%
spread(Genere, pop) %>%
replace(is.na(.), 0),
by = c("DB_ID_NIL" = "Quartiere")
)
filter(popolazione, Eta >= 25 & Eta <= 30 & Cittadinanza == "Italiana") %>%
transmute(Quartiere,
Cittadinanza,
Genere = ifelse(Genere == "Femmine",
"Femmine_giovani_it",
"Uomini_giovani_it"),
X2014) %>%
group_by(Quartiere, Genere) %>%
summarise(pop = sum(X2014)) %>%
spread(Genere, pop) %>%
replace(is.na(.), 0),
by = c("DB_ID_NIL" = "Quartiere")
filter(popolazione, Eta >= 25 & Eta <= 30 & Cittadinanza == "Italiana") %>%
transmute(Quartiere,
Cittadinanza,
Genere = ifelse(Genere == "Femmine",
"Femmine_giovani_it",
"Uomini_giovani_it"),
X2014) %>%
group_by(Quartiere, Genere) %>%
summarise(pop = sum(X2014)) %>%
spread(Genere, pop) %>%
replace(is.na(.), 0)
unique(popolazione$Cittadinanza)
left_join(milan_qt@data,
filter(popolazione, Eta >= 25 & Eta <= 30 & Cittadinanza == "Italia") %>%
transmute(Quartiere,
Cittadinanza,
Genere = ifelse(Genere == "Femmine",
"Femmine_giovani_it",
"Uomini_giovani_it"),
X2014) %>%
group_by(Quartiere, Genere) %>%
summarise(pop = sum(X2014)) %>%
spread(Genere, pop) %>%
replace(is.na(.), 0),
by = c("DB_ID_NIL" = "Quartiere")
)
milan_qt@data <-
left_join(milan_qt@data,
filter(popolazione, Eta >= 25 & Eta <= 30 & Cittadinanza == "Italia") %>%
transmute(Quartiere,
Cittadinanza,
Genere = ifelse(Genere == "Femmine",
"Femmine_giovani_it",
"Uomini_giovani_it"),
X2014) %>%
group_by(Quartiere, Genere) %>%
summarise(pop = sum(X2014)) %>%
spread(Genere, pop) %>%
replace(is.na(.), 0),
by = c("DB_ID_NIL" = "Quartiere")
)
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani_it/Uomini_giovani_it,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani_it / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
milan_qt@data
# Giovani italiani
#
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani_it/Uomini_giovani_it,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani_it / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
milan_qt.wgs84 <- spTransform(milan_qt, CRS("+init=epsg:4326"))
milan_qt.wgs84.f <- fortify(milan_qt.wgs84, region = "ID_NIL") %>%
merge(milan_qt.wgs84@data, by.x = "id", by.y = "ID_NIL")
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani_it/Uomini_giovani_it,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani_it / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani_it/Uomini_giovani_it,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha = (Femmine_giovani_it / (AreaMQ / 1000))
#                    cut((Femmine_giovani_it / (AreaMQ / 1000)),
#                        breaks = c(0,5,10,20,Inf),
#                        include.lowest = TRUE,
#                        right = FALSE,
#                        labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
# Giovani senza filtro su nazionalità
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani/Uomini_giovani,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha =
cut((Femmine_giovani / (AreaMQ / 1000)),
breaks = c(0,5,10,20,Inf),
include.lowest = TRUE,
right = FALSE,
labels = c("Meno di 5", "Tra 5 e 10", "Tra 10 e 20", "Oltre 20"))
),
# alpha = 0.5,
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
# Giovani italiani
lnd.osm +
geom_polygon(data = milan_qt.wgs84.f,
aes(x = long, y = lat, group = group,
fill =
# Femmine_giovani/Uomini_giovani
# Femmine_giovani
cut(Femmine_giovani_it/Uomini_giovani_it,
breaks = c(0,1,2,Inf),
include.lowest = FALSE,
right = FALSE,
labels = c("Meno di 1", "Tra 1 e 2", "Oltre 2"))
,
alpha = (Femmine_giovani_it / (AreaMQ / 1000))
),
colour = "black", size = 0.25) +
geom_polygon(data = milan_zone.wgs84.f,
aes(long, lat, group = group),
fill = NA, color = "black", size = 1
) +
labs(x = NULL, y = NULL, fill = "Rapporto donna/uomo",
alpha = "Donne per KmQ") +
ggtitle("Donne italiane tra i 25 e i 30 anni 2014") +
# scale_fill_distiller(palette = "Greens", breaks = pretty_breaks(n = 5)) +
guides(fill = guide_legend(reverse = TRUE))
